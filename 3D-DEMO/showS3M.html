<!DOCTYPE html>
<html lang="en">

<head>

    <!-- new add -->
    <meta charset="utf-8">
    <title>s3m模型展示</title>
    <script src="jquery-3.4.1.min.js"></script>
    <script src="js.js"></script>
    <link rel="stylesheet" href="css.css">

    <!-- 定义颜色 -->
    <style type="text/css">
        thead {
            color: green;
        }
    </style>
</head>

<!-- new add  -->

<body>
    <div id="header"></div>
    <div id="option">
        <form id="show_s3m">
            <fieldset>
                <p id="getSaveFileName">
                    <label for="saveFileName">输入文件名: </label>
                    <input type="select" id="input_SaveFileName" value="eg:3D-Model-Name"></input>
                </p>

                <!-- 展示地图 首先给出查询后的 版本、修改时间和超链接，点击链接查看 -->
                <input type="button" id="btn_show_s3m_moudle" value="查询" onclick="creatTab()">
                <div id="div1"></div>

            </fieldset>
        </form>
    </div>
</body>


<!-- 创建表格 -->
<script>
    function creatTab() {
        // rows = document.getElementById('rows').value

        $.ajax({
            type: 'get',
            // contentType: "application/json",
            url: 'http://172.16.15.66:8081/server_war_exploded/webapi/blockchain/history',
            // data: JSON.stringify(params),
            success: function (data) {
                console.log('data: ' + data);
            },
            error: function (err) {
                console.log('err: ');
                console.log(JSON.stringify(err));
            }
        });






        var params = {
            "version": "Ver1.0.0",
            "time": "2019年11月28日"
        };
        rows = 2;  // 行
        cols = 2;  // 列
        div1 = document.getElementById('div1')
        // alert(rows+'\n'+cols)
        var tab = '<table border=1 width="500" cellpadding="10" align="center">'
        tab += "<caption>历史版本查询</caption>";
        tab += "<tr><th>版本号</th>\
                <th>修改时间</th>"
        for (var i = 0; i < rows; i++) {


            tab += '<tr>'
            for (var j = 0; j < cols; j++) {
                if (j == 0) {
                    // target 当点击时在另外的页面打开
                    tab += "<td ><a href=\"http://localhost:8081/s3m/examples/showS3M.html\" target= _blank id=tips>" + params.version + "</a></td>"
                } else {
                    tab += "<td >" + params.time + "</td>"
                }
            }
            tab += '</tr>';

        }
        tab += '</table>';
        div1.innerHTML = tab;

        // 里面有a 标签的写法
        // tab += '<tr>'
        //     for (var j = 0; j < cols; j++) {
        //         tab += "<td ><a href=\"http://baidu.com\" class=\"aclass\">" + i + j + "</a></td>"
        //     }
        //     tab += '</tr>';

    }

    $(".aclass").click(function () {
        alert("click");
    });
</script>

</html>